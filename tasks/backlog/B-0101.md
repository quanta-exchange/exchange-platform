# B-0101 â€” Trading Core: command/event contract integration

## Goal
Implement the gRPC boundary and event envelope fields required for traceability and determinism.

## Scope
- Implement TradingCoreService gRPC:
  - PlaceOrder, CancelOrder
  - Admin: SetSymbolMode, CancelAll
- Define command_id/idempotency_key behavior
- Define event envelope (event_id, seq, correlation/causation)

## Acceptance Criteria
- Place/Cancel return deterministic acks
- All outputs include symbol seq monotonic
- correlation_id is propagated from Edge

## Tests
- Unit: command validation
- Integration: gRPC roundtrip tests
- Property: seq monotonic per symbol

## Observability
- Metrics: core_in_commands_total, core_out_events_total
- Traces: span per command
- Logs: structured with command_id

## Rollback / Recovery
- If gRPC changes break clients, roll back and preserve contract compatibility

## Dependencies
- B-0002
