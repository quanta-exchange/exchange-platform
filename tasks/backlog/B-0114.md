# B-0114 â€” Trading Core outbox publisher v1 (durable publish, retry-safe)

## Goal
Publish events to Kafka/Redpanda from a durable outbox so publish failures never lose committed events.

## Scope
- Outbox table/file with last_published_seq
- Retry with exponential backoff
- Exactly-once illusion via idempotent event_id on consumers

## Acceptance Criteria
- On Kafka outage, outbox grows but no loss
- After recovery, publishes all events in order per symbol
- Duplicates are safe (idempotent consumers)

## Tests
- Integration: kill publisher mid-flight, restart, verify no gaps
- Chaos: broker unavailable then restored

## Observability
- Metrics: outbox_depth, publish_retry_total, publish_lag_ms

## Rollback / Recovery
- If publish backlog too large, throttle WS and consider CANCEL_ONLY for affected symbols

## Dependencies
- B-0110
