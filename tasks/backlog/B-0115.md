# B-0115 — Market protections v2 (volatility guard + cancel-only transitions)

## Goal
Add dynamic collars and controlled mode transitions to prevent runaway markets.

## Scope
- Ref price sources and priority
- Dynamic collar calculation (configurable)
- Automatic transition NORMAL→CANCEL_ONLY on severe anomalies

## Acceptance Criteria
- No executions beyond allowed collar
- Mode transitions are audited and observable
- Manual override exists with reason code

## Tests
- Golden tests for collar boundaries
- Simulated flash crash scenario test

## Observability
- Metrics: collar_violation_total, mode_transition_total

## Rollback / Recovery
- If false positives, adjust thresholds; never disable without approval

## Dependencies
- B-0104
