# B-0113 â€” Determinism harness + state hash checkpoints

## Goal
Prove that replaying the same inputs yields identical outputs and state hashes.

## Scope
- Compute periodic state hash (book + orders + last_seq)
- Persist hashes alongside WAL
- Replay tool verifies hash equality

## Acceptance Criteria
- Same WAL replay yields identical hashes
- Divergence triggers HALT + forensic bundle

## Tests
- Differential run: 10 replays
- Intentional bug injection shows divergence detection

## Observability
- Metrics: divergence_total, last_state_hash
- Logs: divergence details

## Rollback / Recovery
- If divergence detected in prod, enter CANCEL_ONLY/HARD_HALT and preserve evidence

## Dependencies
- B-0110
